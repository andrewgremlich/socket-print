<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Provel Print | Licenses</title>
  <meta name="description" content="License information for third-party libraries used in Provel Print.">
</head>

<body>
  <main>
    <h1>Licenses</h1>
    <p>This page lists all the licenses for the third-party libraries used in Provel Print.</p>

    <h2>Third-Party Libraries</h2>
    <ul>
      <li>Three JS - <a href="https://github.com/mrdoob/three.js/blob/dev/LICENSE">MIT License</a></li>
      <li>Lucide Icons - <a href="https://lucide.dev/license">ISC and MIT Licenses</a></li>
      <li>three-mesh-bvh - <a href="https://github.com/gkjohnson/three-mesh-bvh/blob/master/LICENSE">MIT License</a>
      </li>
      <li>threejs-offset - <a href="https://github.com/AngyDev/threejs-offset/blob/main/LICENSE.md">MIT License</a></li>
      <li>js-crc32 - <a href="https://github.com/SheetJS/js-crc32/blob/master/LICENSE">Apache License 2.0</a></li>
      <li>mathjs - <a href="https://github.com/josdejong/mathjs/blob/master/LICENSE">Apache License 2.0</a></li>
      <li>Dexie.js - <a href="https://github.com/dexie/Dexie.js/blob/master/LICENSE">Apache License 2.0</a></li>
      <!-- Add more libraries and their licenses as needed -->
    </ul>

    <p>For more details on each license, please refer to the respective library's documentation.</p>

    <offline-indicator></offline-indicator>
  </main>

  <footer>
    <script type="module" src="/src/license-renderer.ts"></script>

    <script>
      // Enhanced service worker registration with update handling
      if ('serviceWorker' in navigator) {
        // Register service worker for both HTTPS and localhost development
        const shouldRegister = location.protocol === 'https:';

        if (shouldRegister) {
          navigator.serviceWorker.register('/sw.js')
            .then(registration => {
              console.log('Service Worker registered successfully:', registration.scope);
            })
            .catch(error => {
              console.error('Service Worker registration failed:', error);
            });
        }
      }
    </script>
  </footer>
</body>

</html>